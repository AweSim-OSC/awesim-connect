![AweSim](./Documentation/img/awesim-small.png)

# Connecting to AweSim
## How to use the AweSim Connect App to Securely Connect a Windows PC to an AweSim Session

AweSim connect is a native windows application written in C# and compiled for .NET 2.0, providing compatibility for Windows versions from XP through 8.1.

### Why AweSim Connect?

To connect to AweSim services, a secure tunnel to our services is required. This can be done relatively simply in OSX and Linux by using the SSH functionality built into the system, but Windows users have had to configure and use third party applications like PuTTY to access secure resources at OSC. AweSim Connect provides pre-configured managment of secure tunnel connections for Windows users, as well as providing a launcher for secure file transfer, VNC, and web based services.

## Getting Started

#### Download the latest release of `AweSimConnect.exe`

Currently available at: [https://github.com/AweSim-OSC/awesim-connect/releases](https://github.com/AweSim-OSC/awesim-connect/releases)

#### Save the file to a folder of your choice

When you first run AweSim Connect, two addtional files will be added to this folder. These are required for proper functionality of the application.

* `plink.exe` is the command-line version of PuTTY and is used by the application to create the secure connection to AweSim resources.
* `ggivnc.exe` is a VNC viewer client provided under MIT License and it is used to view a remote desktop session.

#### Double-Click the `AweSimConnect.exe` file to run the application

No further installation is required. In the current state, AweSim Connect is entirely deployed by a single executable file.



## (v0.2) Connecting to a Session

The AweSim Connect application can be used to connect to a running session. Sessions are launched through the AweSim web dashboard. AweSim Connect does not have the ability to launch a session.

#### Navigate to the AweSim Dashboard and create a session

Click the button with the globe in the upper-right side of the application to launch a default browser connection to the AweSim Dashboard, or navigate your browser directly to [https://apps.awesim.org/devapps/](https://apps.awesim.org/devapps/).

* AweSim Connect currently supports VNC connections and the web-based COMSOL Server connection.

#### Enter your AweSim Credentials in the text boxes

* Entering your credentials reveals file transfer options and allows you to select a Session type.

#### Select a session type

* Click the option to create a VNC Tunnel or a COMSOL server session tunnel.

#### Enter your session info

* **COMSOL Server**: Enter the host name provided by the session manager. A remote port of 2036 will be entered by default.

* **VNC Connection**: In the session manager of the application you want to connect to, click the blue icon to display additional connection info. Enter the Host, Port, and VNC password as displayed in the image below.

* **Automatic Option**: AweSim Connect also has the ability to automatically populate the fields by copying a line generated by the web application to your clipboard. If the application detects a valid data connection string in the clipboard it will automatically update the fields and bring the application to the front of the screen.

![v0.2 Guide](https://cloud.githubusercontent.com/assets/2374718/8045035/9cfdd204-0dfe-11e5-8cc7-358f16b58ee8.png)

#### Click to Connect the tunnel

When all of the fields are populated, click the lightning bolt icon to establish the secure tunnel. If your information has been entered correctly, you will be automatically connected to our system. You may see a window open and close briefly, this is the secure tunnel being established. 

* If your password was entered incorrectly on the main form, this window will remain open while the system prompts you for a valid password.

#### Connection Window

Once the connection is established, you will be presented with a connection window that provides the detail of the connection. Look for the icon on the right to display a shield if a secure connection is detected, or an 'x' icon if the connection is closed.

* Using the instructions in the form, connect to the resource, alternatively, click the grey icon on the right to launch the included service.

* Click the red button to disconnect the tunnel.

* This form includes an optional tag to help you manage multiple tunnels.

![v0.2 Connection](https://cloud.githubusercontent.com/assets/2374718/8045063/d022218a-0dfe-11e5-8571-df87f09285dd.png)

## Secure File Transfer

The AweSim Connect application will detect if you have a supported SFTP client on your system and allow you to connect to securely connect to the AweSim file system over SFTP.

#### Enter your AweSim credentials

#### Click the file transfer button in the bottom left.

If the supported SFTP client is detected, a link will be enabled to connect directly via SFTP.

* **(v0.2)** [FileZilla](https://filezilla-project.org/) is currently the supported SFTP client. FileZilla must be installed separately on your system.
Download from: [https://filezilla-project.org/download.php](https://filezilla-project.org/download.php)

## Developer Notes

#### (v0.2) Automatic connection via valid json string.

The application can detect when a properly formatted string is copied to the Windows clipboard and it will automatically parse the input data. In this version, the application can expect 4 inputs. The inputs are case-sensitive.

* **U**, or **UserName** - The AweSim username credential. *(ex: an0018)*
* **H**, or **PUAServer** - The host name of the running session. *(ex: n0580.ten.osc.edu')*
* **R**, or **RemotePort** - The remote port for the tunnel connection. The application will attempt to set the local port to the same port as the remote port, but if the local port is already in use it will select the next available port. *(ex: 5901)*
* **V**, or **VNCPassword** - An 8-char password generated by the VNC server. *(ex: VaK55uol)*

Examples of valid json strings:

* {'H':'n0580.ten.osc.edu','R': '5901','U':'an0018','V':'Yh8d89tf'}
* {'RemotePort':'5901','VNCPassword': 'ty56u3J7','PUAServer':'r0004.ten.osc.edu','UserName': 'bmcmichael'}   